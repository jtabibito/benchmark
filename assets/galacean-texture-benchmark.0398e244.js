import"./modulepreload-polyfill.c7c6310f.js";import{A as r,W as y,V as x,C as T,$ as _,T as C,M as D}from"./module.976fcab8.js";import{G as v}from"./dat.gui.module.fa9eec39.js";const d={None:void 0,128:{url:"https://mdn.alipayobjects.com/afts/img/A*0fb1RaBW3DUAAAAAAAAAAAAADrd2AQ/original_Material.004_baseColor_128.png",type:r.Texture2D},256:{url:"https://mdn.alipayobjects.com/afts/img/A*HSY5QbxEMcQAAAAAAAAAAAAADrd2AQ/original_Material.004_baseColor.png",type:r.Texture2D},512:{url:"https://mdn.alipayobjects.com/afts/img/A*hUyIQIsnfSUAAAAAAAAAAAAADrd2AQ/original_Material.004_baseColor_512.png",type:r.Texture2D},1024:{url:"https://mdn.alipayobjects.com/afts/img/A*cF_ZTIGvjjkAAAAAAAAAAAAADrd2AQ/original_Material.004_baseColor_1024.png",type:r.Texture2D},2048:{url:"https://mdn.alipayobjects.com/afts/img/A*PX7WTqi3MLAAAAAAAAAAAAAADrd2AQ/original_Material.004_baseColor_2048.png",type:r.Texture2D}};y.create({canvas:"canvas"}).then(a=>{a.canvas.resizeByClientSize();const p=a.sceneManager.activeScene,m=p.createRootEntity("Camera");m.transform.setPosition(8*1.7,6*1.7,10*1.7),m.transform.lookAt(new x(0,0,0));const M=m.addComponent(T);M.enableFrustumCulling=!1,a.resourceManager.load({url:"https://mdn.alipayobjects.com/oasis_be/afts/file/A*WmviTKgN7_QAAAAAAAAAAAAADkp5AQ/popcat_combine.glb",type:r.GLTF}).then(f=>{const h=f,o=new _(a),n={texture:"None",enableMipMap:!0,anisoLevel:1},i=new v;i.add(n,"texture",Object.keys(d)).onChange(t=>{if(t==="None"){o.baseTexture=null;return}a.resourceManager.load(d[t]).then(e=>{const A=e;o.baseTexture=A,o.baseTexture.anisoLevel=1,n.enableMipMap=!0,n.anisoLevel=1,i.updateDisplay()})}),i.add(n,"enableMipMap").onChange(t=>{if(n.texture==="None")return;const e=new Image;e.src=URL.createObjectURL(new Blob([d[n.texture].url],{type:"image/png"})),e.onload=()=>{const{width:A,height:u}=e,s=new C(a,A,u,o.baseTexture.format,t);s.setImageSource(e),s.generateMipmaps(),o.baseTexture=s}}),i.add(n,"anisoLevel",[1,2,4,8,16]).onChange(t=>{const{baseTexture:e}=o;e&&(e.anisoLevel=t)});const c=h.instantiateSceneRoot(),{transform:b}=c;b.setPosition(0,0,0),b.scale.scale(.025),p.addRootEntity(c);const g=[];c.getComponentsIncludeChildren(D,g),g.forEach(t=>{t.setMaterial(o)});const l=15.5;for(let t=0;t<499;++t){const e=c.clone();p.addRootEntity(e);const A=Math.random()*l-l/2,u=Math.random()*l-l/2,s=e.transform;s.setPosition(A,0,-u),s.setRotation(-90,Math.random()*360,0)}}),a.run()});
